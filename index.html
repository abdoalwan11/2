import React, { useState } from 'react';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select"
import { Button } from "@/components/ui/button"
import { Card, CardHeader, CardTitle, CardContent } from "@/components/ui/card"

const vaccinationData = {
  "الميلاد": [
    { name: "رضع B كبدي", disease: "الالتهاب الكبدي الفيروسي B", dose: "0.5 سم2", method: "حقناً بالعضل في الجزء الخارجي من العضلة الأمامية بالفخذ اليمنى" },
    { name: "سابين", disease: "شلل الأطفال", dose: "نقطتان", method: "بالفم" },
    { name: "بي.سي.جي", disease: "الدرن", dose: "0.05 سم2", method: "حقناً داخل الجلد (في الطبقة الأولى) أعلى الذراع الأيسر للطفل" }
  ],
  "شهرين": [
    { name: "سابين", disease: "شلل الأطفال", dose: "نقطتان", method: "بالفم" },
    { name: "الخماسي", disease: "الدفتريا، السعال الديكي، التيتانوس، الالتهاب الكبدي الفيروسي B، الانفلونزا المستديمة النزفية B", dose: "0.5 سم2", method: "حقناً بالعضل في الجزء الخارجي من العضلة الأمامية بالفخذ اليمنى" },
    { name: "سولك", disease: "شلل الأطفال", dose: "0.5 سم2", method: "حقناً بالعضل في الجزء الخارجي من العضلة الأمامية بالفخذ اليسرى" }
  ],
  "4 شهور": [
    { name: "سابين", disease: "شلل الأطفال", dose: "نقطتان", method: "بالفم" },
    { name: "الخماسي", disease: "الدفتريا، السعال الديكي، التيتانوس، الالتهاب الكبدي الفيروسي B، الانفلونزا المستديمة النزفية B", dose: "0.5 سم2", method: "حقناً بالعضل في الجزء الخارجي من العضلة الأمامية بالفخذ اليمنى" },
    { name: "سولك", disease: "شلل الأطفال", dose: "0.5 سم2", method: "حقناً بالعضل في الجزء الخارجي من العضلة الأمامية بالفخذ اليسرى" }
  ],
  "6 شهور": [
    { name: "سابين", disease: "شلل الأطفال", dose: "نقطتان", method: "بالفم" },
    { name: "الخماسي", disease: "الدفتريا، السعال الديكي، التيتانوس، الالتهاب الكبدي الفيروسي B، الانفلونزا المستديمة النزفية B", dose: "0.5 سم2", method: "حقناً بالعضل في الجزء الخارجي من العضلة الأمامية بالفخذ اليمنى" },
    { name: "سولك", disease: "شلل الأطفال", dose: "0.5 سم2", method: "حقناً بالعضل في الجزء الخارجي من العضلة الأمامية بالفخذ اليسرى" },
    { name: "فيتامين أ", disease: "-", dose: "كبسولة واحدة (زرقاء)", method: "بالفم" }
  ],
  "9 شهور": [
    { name: "سابين", disease: "شلل الأطفال", dose: "نقطتان", method: "بالفم" }
  ],
  "12 شهر": [
    { name: "سابين", disease: "شلل الأطفال", dose: "نقطتان", method: "بالفم" },
    { name: "ام.ام.ار", disease: "الحصبة والنكاف والحصبة الألمانية", dose: "0.5 سم2", method: "حقناً تحت الجلد بالذراع اليمنى" },
    { name: "فيتامين أ", disease: "-", dose: "كبسولة واحدة (زرقاء)", method: "بالفم" }
  ],
  "18 شهر": [
    { name: "سابين", disease: "شلل الأطفال", dose: "نقطتان", method: "بالفم" },
    { name: "ام.ام.ار", disease: "الحصبة والنكاف والحصبة الألمانية", dose: "0.5 سم2", method: "حقناً تحت الجلد بالذراع اليمنى" },
    { name: "الثلاثي البكتيري", disease: "الدفتريا والتيتانوس والسعال الديكي", dose: "0.5 سم2", method: "حقناً بالعضل في الجزء الخارجي من العضلة الأمامية بالفخذ اليسرى" },
    { name: "فيتامين أ", disease: "-", dose: "كبسولة واحدة (زرقاء)", method: "بالفم" }
  ]
};

const VaccinationSchedule = () => {
  const [selectedAge, setSelectedAge] = useState("");
  const [vaccinations, setVaccinations] = useState([]);

  const handleSearch = () => {
    setVaccinations(vaccinationData[selectedAge] || []);
  };

  return (
    <div className="container mx-auto p-4 text-right" dir="rtl">
      <h1 className="text-3xl font-bold mb-6 text-center">جدول التطعيمات الإجبارية</h1>
      <div className="flex justify-center mb-6">
        <Select onValueChange={setSelectedAge}>
          <SelectTrigger className="w-[180px]">
            <SelectValue placeholder="اختر عمر الطفل" />
          </SelectTrigger>
          <SelectContent>
            {Object.keys(vaccinationData).map((age) => (
              <SelectItem key={age} value={age}>{age}</SelectItem>
            ))}
          </SelectContent>
        </Select>
        <Button onClick={handleSearch} className="mr-2">بحث</Button>
      </div>
      {vaccinations.length > 0 ? (
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          {vaccinations.map((vaccine, index) => (
            <Card key={index}>
              <CardHeader>
                <CardTitle>{vaccine.name}</CardTitle>
              </CardHeader>
              <CardContent>
                <p><strong>المرض:</strong> {vaccine.disease}</p>
                <p><strong>الجرعة:</strong> {vaccine.dose}</p>
                <p><strong>طريقة الإعطاء:</strong> {vaccine.method}</p>
              </CardContent>
            </Card>
          ))}
        </div>
      ) : selectedAge && (
        <p className="text-center text-gray-500">لا توجد تطعيمات لهذا العمر</p>
      )}
      <div className="mt-8">
        <h2 className="text-xl font-semibold mb-2">ملاحظات إضافية:</h2>
        <ul className="list-disc list-inside">
          <li>الآثار الجانبية بعد التطعيم: هي أي حدث طبي يحدث للطفل بعد التطعيم (ارتفاع درجة الحرارة - تورم - احمرار - طفح جلدي - بكاء مستمر).</li>
          <li>يتم إعطاء كبسولة واحدة (زرقاء) من فيتامين أ كل 6 شهور، بدءاً من عمر 6 شهور وحتى عمر 54 شهور (4 سنوات ونصف).</li>
        </ul>
      </div>
    </div>
  );
};

export default VaccinationSchedule;
